# Copy this file to .env and modify the values as needed
# WARNING: .env contains sensitive information and should never be committed to version control
# Command to copy: cp .env.example .env

# InfluxDB connection parameters
INFLUX_ORG=your_influx_db_org
INFLUX_HOST=http://your_influx_db_host:8086
INFLUX_TOKEN=your_admin_token_here

# Bucket names (modify if you want custom naming)
RAW_BUCKET=PowerLogger_raw
B1M_BUCKET=PowerLogger_1m
B5M_BUCKET=PowerLogger_5m
B1H_BUCKET=PowerLogger_1h

# Measurement name in InfluxDB
MEASUREMENT=PowerPulse

# Local queue directory for persistent buffering (SQLite database)
# Default: ./queue (creates in current directory)
# For system-wide installation, use: /var/lib/powerlogger (requires sudo/root)
QUEUE_DIR=./queue

# -------------------------
# GPIO (pulse input) configuration
# -------------------------
# IMPORTANT: Pin numbers are BCM numbers (gpiozero default), not physical header pin numbers.

# Default pins
GPIO_IMPORT_PIN=20
GPIO_EXPORT_PIN=26
GPIO_GENERATE_PIN=21

# Internal pull configuration (preferred)
#   up   = internal pull-up
#   down = internal pull-down
#   none = floating input (requires GPIO_ACTIVE_STATE)
GPIO_PULL=up

# Legacy option (kept for backward compatibility):
#   true  => pull-up
#   false => pull-down
#GPIO_PULL_UP=true

# Only used when GPIO_PULL=none (floating)
#GPIO_ACTIVE_STATE=low

# Pulse edge to count as a pulse:
#   rising  = 0->1
#   falling = 1->0
#   both    = counts both edges (debugging only; may double-count)
GPIO_ENQUEUE_EDGES=rising

# Which edges to attach callbacks for (diagnostic): rising|falling|both
GPIO_LOG_EDGES=falling

# Debounce time in seconds (0 disables)
GPIO_BOUNCE_TIME=0.1

# Additional software debounce / min spacing between pulses *per input*.
# This is applied even if GPIO_BOUNCE_TIME=0.
# For your stated requirement (<=10 pulses/sec => >=0.1s spacing), a value like
# 0.03s filters out contact bounce/noise without suppressing real pulses.
GPIO_MIN_PULSE_INTERVAL=0.03

# Optional extra diagnostics
DEBUG=0
GPIO_POLL_DEBUG=0
GPIO_POLL_INTERVAL=0.05
